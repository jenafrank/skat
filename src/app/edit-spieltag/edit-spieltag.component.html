<mat-toolbar *ngIf="auth.user() !== null" class="second-toolbar">
  <button mat-fab color="primary" (click)="openAdd()"><mat-icon>add</mat-icon></button>
  <span class="example-spacer"></span>
  <button mat-mini-fab [matMenuTriggerFor]="menu" (click)="menuhelper=0;">{{roundPlayers[0]}}</button>
  <button mat-mini-fab [matMenuTriggerFor]="menu" (click)="menuhelper=1;">{{roundPlayers[1]}}</button>
  <button mat-mini-fab [matMenuTriggerFor]="menu" (click)="menuhelper=2;">{{roundPlayers[2]}}</button>
  <button mat-mini-fab *ngIf="filteredRoundPlayers().length > 2" [matMenuTriggerFor]="menu" (click)="menuhelper=3;">{{roundPlayers[3]}}</button>
  <button mat-mini-fab *ngIf="filteredRoundPlayers().length > 3" [matMenuTriggerFor]="menu" (click)="menuhelper=4;">{{roundPlayers[4]}}</button>
  <span class="example-spacer"></span>
  <button mat-mini-fab color="primary" (click)="toggleSort()"><mat-icon>sort</mat-icon></button>

  <mat-menu #menu="matMenu">
      <mat-grid-list cols="5" gutterSize="3px">
        <mat-grid-tile *ngFor="let el of players" style="background: light-blue" (click)="selectPlayer(el);">
          <div style="cursor: pointer;font-weight: bold;font-family:Arial, Helvetica, sans-serif;">{{el}}</div>
        </mat-grid-tile>
      </mat-grid-list>
  </mat-menu>

</mat-toolbar>

<mat-tab-group>
  <mat-tab label="Klassement">
    <mat-card >            
      <mat-grid-list cols="5" gutterSize="3px" rowHeight="80px">
          <ng-container *ngFor="let elm of spieltagAcc as array; index as i;">
            <mat-grid-tile 
            [ngClass]="{'firstPlace first' : i == 0, 'otherPlace other' : i > 0 }">{{i+1}}.</mat-grid-tile>
            <mat-grid-tile [ngClass]="{'firstPlaceName first' : i == 0, 'otherPlaceName other' : i > 0 }" style="font-weight:bold;"> {{elm[0]}} </mat-grid-tile>
            <mat-grid-tile [ngClass]="{'firstPlacePoints first' : i == 0, 'otherPlacePoints other' : i > 0 }" style="font-weight:bold;"> {{elm[1]}} </mat-grid-tile>
            <mat-grid-tile [ngClass]="{'first' : i == 0, 'other' : i > 0 }"> 
              <span *ngIf="i > 0"> - </span>
              {{i > 0 ? array[0][1] - elm[1] : ''}}
            </mat-grid-tile>
            <mat-grid-tile [ngClass]="{'first' : i == 0, 'other' : i > 0 }"> 
              <mat-icon *ngIf="i > 0">call_made</mat-icon>
              {{i > 0 ? array[i-1][1] - elm[1] : ''}}
            </mat-grid-tile>
          </ng-container>          
        </mat-grid-list>
    </mat-card>
  </mat-tab>
  <mat-tab label="R1">
    <app-spieltag-table [dataSource]="dataSource" [displayedColumns]="displayedColumns"></app-spieltag-table>
  </mat-tab>
  <mat-tab label="R2">
      <app-spieltag-table [dataSource]="dataSource" [displayedColumns]="displayedColumns"></app-spieltag-table>
  </mat-tab>
  <mat-tab label="R3">
      <app-spieltag-table [dataSource]="dataSource" [displayedColumns]="displayedColumns"></app-spieltag-table>
  </mat-tab>
</mat-tab-group>


<div *ngIf="auth.user() !== null" style="margin-top: 100px;">
<button mat-raised-button color="warn" (click)="removeLastGame()">Remove last game</button>
</div>

